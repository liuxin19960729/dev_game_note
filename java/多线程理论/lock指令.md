```
lock 指令被声明后随即通行的的指令被转化为原子指令
也就是说执行的该lock之后该cpu会独占任何共享内存



lock 只能加在以下指令的前面
add、adc、and、btc、btr、bts、cmpxchg、cmpxch8b，cmpxchg16b，dec，inc，neg，not，or，sbb，sub，xor，xadd和xchg



若放在其他不适对内存写操作的的前面会出现 ud操作码的异常



有的指令默认带有lock (默认的就是原子性的操作)
    xchg


从p6系列的处理器开始吗，当使用lock指令的内存已经加载到缓存时 lock 信号通常不会断言,只会锁定处理器的缓存(确保对内存的操作是原子性的操作)。



怎样锁定cpu的缓存？？(总线锁)
    lock 指令在执行的时候通过锁定总线,独占共享内存，通过一种排他的思想确保内存只有一个线程操作内存。线程在执行期间不会被打断。






```