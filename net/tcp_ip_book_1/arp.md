## ARP 地址解析协议
```
链路层的识别地址是设备驱动对mac地址(48 bits=6 byte)地址对验证，设备对驱动层序是不检查ip地址对。


arp  为ip地址到硬件地址之间做了动态映射

执行 ftp 主机名

1.ftp clent->gethostname()把主机名转换为ip(主机名对情况下)-->host文件查找｜DNS

2.ftp client请求链接

3.若局域网 点对点网络 直接把数据报发送到主机    不是上面到那种网络Ip选路 会到达下一个路由器  -->依次这样寻找下去

传输过程需要依赖下一个路由器到Mac地址  为了找到这个路由器到Mac地址  arp协议就是来做这件事情到

arp 本来是用在广播的网络的

arp 发送一条信息会带着目的主机的地址  （问能和她链接的所有主机那个的地址是这个地址，如果存在请把Mac地址相应给我）

当主机收到了询问她mac地址的信息，会发送arp应答（包含ip 和 Mac）

收到应答 把mac地址(源 目的)数据组装好就能进行数据法传输


Mac地址就是网络接口的硬件地址(识别以太网和环网接口)


ARP的功能是在32bit的IP地址和采用不同的网络技术硬件地址提供动态的映射

arp 在我们电脑中存在缓存 是  ip地址和mac之间的映射
    每条缓存存放的时间大概数是20分钟


    
```

## ARP分组
```
1.目的地址(6 byte)
2.源地址(6 byte)


   注意 当 源地址或目的地址 为0xff ff ff ff ff 说明是广播地址


  当所有目的地址是0xff ff ff ff ff 时则电揽上的以太网都要接收该消息

3.类型  0x800 表示该协议是ARP协议

4.硬件类型和协议类型
   0x01  以太网
   0x8000  ipv4
5.硬件地址长度 和协议地址长度
   0x06  Mac地址长度
   0x04  ip地址长度
6.操作字段(2byte)
   arp请求  0x0001
   arp应答 0x0002
   rarp请求 0x0003
   rarp 应答 0x0004


   
```


